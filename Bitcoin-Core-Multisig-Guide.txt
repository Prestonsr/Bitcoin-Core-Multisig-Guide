---CREATING A HYPER SECURE MULTISIG WALLET---

STEP 1
DOWNLOAD & INSTALL LINUX (CONSIDER THIS A DEDICATED HARDWARE WALLET AND NODE) (BEST PAIRED WITH A NODE ON LAN FOR QUICK SYNC AS WE WILL BE TURNING THIS OFF FREQUENTLY)

STEP 2
SECURE LINUX - CHANGE PASSWORDS FOR USER AND ROOT

STEP 3
DOWNLOAD AND INSTALL AND RUN BITCOIN-CORE (ITS BITCOIN-QT)
TURN OFF THIS --->>>  SETTINGS > OPTIONS > WALLET > SPEND UNCONFIRMED CHANGE - THEN TURN ON ENABLE COIN CONTROL FEATURES

STEP 4
SYNC FULL BLOCK CHAIN

STEP 5 - (Multisig Creation)
AFTER FULL SYNC
CREATE WALLET - NOT ENCRYPTED / NO DISABLED PRIVATE KEYS / NOT BLANK / NOT DESCRIPTOR - JUST A REGULAR WALLET
OPEN CONSOLE ( CTRL + T )
LETS INCREASE KEYPOOLSIZE. TLDR - INCREASE KEYPOOLSIZE BEYOND THE DEFAULT SIZE FOR ADDED SECURITY. SOMEONE WOULD NOT ONLY HAVE TO GEUSS YOUR XPRIV BUT THEN GENERATE MORE KEYS THAN DEFUALT NUMBER, THEN THEY WOULD HAVE TO GUESS WHICH KEYS YOU USED FOR YOUR MULTISIG. BEYOND EXTREMELY UNLIKELY. THIS MAY BE TINFOIL LEVEL AS THE SECURITY OF MULTISIG IS ALREADY CRAZY. SKIP IF YOU WANT.
TYPE AND ENTER OR SKIP IF YOU DONT CARE TO SEE HELP FILE FOR REFERENCE

help keypoolrefill

TYPE AND ENTER

keypoolrefill 5000

WAIT FOR TERMINAL TO RETURN A MESSAGE SAYING "NULL"
THIS GENERATED 5000 KEYS FOR YOUR KEYPOOL (ACTUALLY MORE)

***NOTE MOVED TO BOTTOM***CAN SKIP FOR NOW****

OPEN FILE EXPLORER AND CREATE FOLDER CALLED DUMP
CREATE BLANK TEXTFILE IN DUMP FOLDER WITH NAME OF WALLETNAME-DUMP.txt
OPEN CORE TERMINAL AND TYPE WITHOUT QUOTES "dumpwallet" WITH A SPACE AFTER, BUT DO NOT HIT ENTER
CLICK AND DRAG TEXT FILE FROM DUMP FOLDER ONTO CORE COMMAND LINE
DELETE "file://" PREFIX ON THE "file:///home/user/path/DUMP/WALLETNAME-DUMP.txt" BUT DO NOT HIT ENTER
BEFORE YOU HIT ENTER, DELETE BLANK TEXT FILE IN DUMP FOLDER
COMMAND SHOULD LOOK LIKE

dumpwallet /home/user/path/DUMP/WALLETNAME-DUMP.txt

OPEN DUMP FILE

IN THE DUMP FILE, LETS FOCUS ONLY ON KEYS WITH AN HDKEYPATH ---->   M/ 0/ 0/ 3489/   (BECAUSE I HAVE NOT TESTED OUT THE LOWERS ONES WITHOUT HDKEYPATH.)
FOR NOW WE WILL FOCUS ON A 3 OF 3 MULTISIG. YOU CAN ALTER THE JSON CODE TO FIT YOUR MULTISIG CHOICE. ILL POST A FEW TEMPLATES AT END. CHECK THE HELP FILE WITH THIS COMMAND ---> help createmultisig

PICK 3 RANDOM KEYS BUT MAYBE GRAB ONE OR TWO KEYS WITH A HIGHER NUMBER THAN THE DEFAULT (HIGHER THAN 1000)
CREATE A 2ND TEXT DOC AND PASTE CHOSEN KEYS
COPY PASTE ENTIRE LINES OR JUST THE "addr=bc1qyaqha3x9tyft70wn63nryw5330yx80s3grxx0d hdkeypath=m/0'/0'/407'" PART.
THESE ARE 3 KEYS FROM MY TEST WALLETS DUMP FILE
----------
L3f6hfQtjxiyyHkbaZt9DSt5ELYL6HMKySQmFt6BYrVEnAhdRC2c 2021-06-01T00:00:15Z reserve=1 # addr=bc1qyaqha3x9tyft70wn63nryw5330yx80s3grxx0d hdkeypath=m/0'/0'/407'
Kxrg7mdedTJ1SJPiLDkiMT8Lft5GwUqmYjnhmCzaG2JZpQLcoxpx 2021-06-01T00:51:51Z reserve=1 # addr=bc1qpmw4x60dmap8qzhntc8s4mneka5dw6pa6gxcex hdkeypath=m/0'/0'/2427'
KxhFJvUvMZtJh2ueQMDVGdcHdx4J6NePYmaNvE4EqXtTqabWGvgB 2021-06-01T00:51:56Z reserve=1 # addr=bc1qaecmahl3mexz8dy5l4ssmmzrcrsvee9jl96ss8 hdkeypath=m/0'/0'/4333'
----------

#####USE DOUBLE CLICKING TO SPEED UP THESE PROCESSES OF COPY PASTING ADDRESSES AND PUBKEYS#####
#####DONT USE THESE ADDRESSES AND PUBKEYS. USE YOUR OWN########

COPY ADDRESS 1
GO TO CORE TERMINAL AND ENTER

getaddressinfo bc1qyaqha3x9tyft70wn63nryw5330yx80s3grxx0d

COPY ADDRESS 2
GO TO CORE TERMINAL AND ENTER

getaddressinfo bc1qpmw4x60dmap8qzhntc8s4mneka5dw6pa6gxcex

COPY ADDRESS 3
GO TO CORE TERMINAL AND ENTER

getaddressinfo bc1qaecmahl3mexz8dy5l4ssmmzrcrsvee9jl96ss8

EACH COMMAND HAD AN OUTPUT. WE WANT THE PUBKEY VARIABLE
MINE LOOKS LIKE THIS

"pubkey": "03a09f9c9207a7fd4a86153ff1a263ae52ce1acd0666c71554943af20ac0b21804"

WE WANT THE KEY ONLY WITHOUT QUOTES

03a09f9c9207a7fd4a86153ff1a263ae52ce1acd0666c71554943af20ac0b21804

COPY THE TEMPLATE CODE AND PASTE INTO YOUR 2ND TEXT DOC

REFER TO help createmultisig COMMAND IF NEEDED

------TEMPLATE CODE------

createmultisig 3 "[\"XXXX\",\"XXXX\",\"XXXX\"]"

-------------------------

COPY PASTE PUBKEY 1 FROM CORE TERMINAL INTO XXXX SLOT 1 IN TEXT DOC
COPY PASTE PUBKEY 2 FROM CORE TERMINAL INTO XXXX SLOT 2 IN TEXT DOC
COPY PASTE PUBKEY 3 FROM CORE TERMINAL INTO XXXX SLOT 3 IN TEXT DOC

USING MY PUBKEYS WITH THE TEMPLATE CODE, IT WILL MAKE ONE BIG COMMAND THAT LOOKS LIKE THIS

createmultisig 3 "[\"03a09f9c9207a7fd4a86153ff1a263ae52ce1acd0666c71554943af20ac0b21804\",\"02459a581d816924dd425c4397ed10dd0f598a3c9429046d88444051fb49a96917\",\"02895174a8f729b98b433c29b871e41ea529ffbbd011ca0071c2e37960e0435750\"]"

COPY PASTE YOUR CODE INTO BITCOIN CORE TERMINAL AND HIT ENTER

YOU SHOULD GET AN OUTPUT LIKE THIS

-------OUTPUT FROM MULTISIG COMMAND------

{
  "address": "363uQJNbifykVgFvHbUjbhn1CFFKfAyGBQ",
  "redeemScript": "532103a09f9c9207a7fd4a86153ff1a263ae52ce1acd0666c71554943af20ac0b218042102459a581d816924dd425c4397ed10dd0f598a3c9429046d88444051fb49a969172102895174a8f729b98b433c29b871e41ea529ffbbd011ca0071c2e37960e043575053ae",
  "descriptor": "sh(multi(3,03a09f9c9207a7fd4a86153ff1a263ae52ce1acd0666c71554943af20ac0b21804,02459a581d816924dd425c4397ed10dd0f598a3c9429046d88444051fb49a96917,02895174a8f729b98b433c29b871e41ea529ffbbd011ca0071c2e37960e0435750))#rhnnu5g6"
}

-----------------------------------------

WE NOW HAVE THE ADDRESS , REDEEMSCRIPT , AND DESCRIPTOR
I COPY THE ENTIRE OUTPUT AND PASTE IT INTO MY TEXT DOCUMENT
COPY PASTE THIS NEXT TEMPLATE INTO YOUR 2ND TEXT DOC

-------WORKING TEMPLATE----------

importmulti '[{"desc": "XXXXX", "timestamp": "now", "internal": false, "watchonly": false}]'

------------------------------

NEXT COPY THE FULL DESCRIPTOR VARIABLE WITHOUT QUOTES
MINE LOOKS LIKE THIS

-----my multisig descriptor-----

sh(multi(3,03a09f9c9207a7fd4a86153ff1a263ae52ce1acd0666c71554943af20ac0b21804,02459a581d816924dd425c4397ed10dd0f598a3c9429046d88444051fb49a96917,02895174a8f729b98b433c29b871e41ea529ffbbd011ca0071c2e37960e0435750))#rhnnu5g6

--------------------------------

HIGHLIGHT THE X'S AND PASTE YOUR DESCRIPTOR IN THE TEMPLATE CODE

------MY importmulti COMMAND--------

importmulti '[{"desc": "sh(multi(3,03a09f9c9207a7fd4a86153ff1a263ae52ce1acd0666c71554943af20ac0b21804,02459a581d816924dd425c4397ed10dd0f598a3c9429046d88444051fb49a96917,02895174a8f729b98b433c29b871e41ea529ffbbd011ca0071c2e37960e0435750))#rhnnu5g6", "timestamp": "now", "internal": false, "watchonly": false}]'

------------------------------------

NOW COPY THE ENTIRE COMMAND. MAKE SURE TO GET THE WHOLE THING.
PASTE AND ENTER INTO CORE TERMINAL

-------OUTPUT FROM importmulti COMMAND----------

[
  {
    "success": true,
    "warnings": [
      "Some private keys are missing, outputs will be considered watchonly. If this is intentional, specify the watchonly flag."
    ]
  }
]

-------------------------------------------------

*
**
****
******
***DONE*
******
****
**
*

CONTINUE FOR HOW TO SECURE THE WALLET FURTHER AND LOCK THOSE TEXT FILES WITH GPG

EVEN THOUGH IT SAYS SOME PRIVATE KEYS ARE MISSING, THIS IS A WORKING WALLET. THERE IS WAY MORE FOR ME TO LEARN STILL. BUT THIS WORKS.
WHEN YOU GO TO SEND A NORMAL TRANSACTION, BITCOIN CORE WILL MAGICALLY SIGN WITH ALL THE KEYS.
IN MY TEST WHEN A TXID WAS SENT TO MY MULTISIG ADDRESS I GOT THE NOTIFICATION AS USUAL.
ONE THING IM TRYING TO FIGURE OUT IS IF I CAN CREATE MULTIPLE HDKEYS KEYS FROM THIS GIVING ME MORE ADDRESSES.
I SEE IN THE "help importmulti" COMMAND THERE IS A RANGE FUNCTION.
CURRENTLY WHEN I SEND A TRANSACTION FROM THIS MULTISIG ADDRESS IT SENDS THE CHANGE TO ANOTHER SINGLE SIG ADDRESS IN THE KEYPOOL.
IM SURE THERES A MORE CORRECT WAY TO DO THIS.
BUT FOR NOW YOU CAN FEEL SAFE GETTING OFF THE EXCHANGE AND TAKING CUSTODY OF YOUR OWN KEYS.

LETS ENCRYPT THE WALLET WITH A PASSPHRASE SO WE CAN KEEP IT SAFE LOCALLY
CLICK SETTINGS > ENCRYPT WALLET
**NOTE - WILL TAKE SEVERAL SECONDS. POSSIBLY DUE TO 5000 KEYS
USE A PASSWORD YOU CANT FORGET. SKIP THIS IF YOU FORGET PASSWORDS. IF SKIPPED, HIDE AND SECURE THIS WALLET WELL.
CREATE WALLET BACKUP
FILE > BACKUP WALLET
DECIDE IF YOU WANT TO SAVE THESE TEXT FILES.
SAVE TEXT FILES
OPEN LINUX TERMINAL
TYPE BUT DONT ENTER

gpg -c 

PUT SPACE AFTER -c
DRAG AND DROP ONE TEXT FILE ONTO THE TERMINAL THEN HIT ENTER
ENTER PASSWORD
DELETE TEXT FILE THATS NOT ENCRYPTED
REPEAT FOR OTHER TEXT FILE
TO DECRYPT TYPE THIS WITH SPACE AT END

gpg 

DRAG AND DROP AS BEFORE THEN ENTER
IT SHOULD NOW ASK FOR PASSWORD AND THEN DECRYPT INTO NEW FILE.

YOU SHOULD NOW HAVE A LOCKED MULTISIG WALLET AND A FEW TEXT FILES IF YOU KEPT THEM THAT CONTAIN YOUR KEYS, ADDRESSES, MULTISIG ADDRESS, REDEEMSCRIPT, AND DESCRIPTOR SHOULD THIS WALLET FAIL YOU IN ANY WAY
REPEAT THE PROCESS ABOVE FOR MORE MULTISIG ADDRESSES OR USE THE importmulti COMMAND BETTER THAN I, POSSSIBLY USING THE RANGE PARAMETER.

*
**
****
******
***DONE*
******
****
**
*

OPTIONAL MULTISIG FORMATIONS

------TEMPLATE CODE------

createmultisig 2 "[\"XXXX\",\"XXXX\"]"

createmultisig 2 "[\"XXXX\",\"XXXX\",\"XXXX\"]"
createmultisig 3 "[\"XXXX\",\"XXXX\",\"XXXX\"]"

##have not tested 3 of 5 yet

createmultisig 3 "[\"XXXX\",\"XXXX\",\"XXXX\",/"XXXX/",/"XXXX/"]"
createmultisig 4 "[\"XXXX\",\"XXXX\",\"XXXX\",/"XXXX/",/"XXXX/"]"
createmultisig 5 "[\"XXXX\",\"XXXX\",\"XXXX\",/"XXXX/",/"XXXX/"]"

-------------------------

***
*******
***********
COMPLICATED NOTE: IF YOU CHOOSE HALF A MILLION KEYS LIKE I DID AS A TEST, IT WILL LOCK UP YOUR BITCOIN-CORE. ALSO IF MADE TOO BIG YOU WALLET MAY TAKE LONG TIME LOADING AND SYNCING.
KEYPOOL SIZE DOESNT GO DOWN IF YOU TRY TO SHRINK IT LATER. I WAS UNSUCCESSFUL AT GOING BACK TO DEFUALT KEYPOOL SIZE WITHOUT LOADING A BACKUP OF THE WALLET FROM BEFORE THE INCREASED KEYPOOL SIZE. (DIDNT DO THAT LAST PART BUT MAKES SENSE TO BE ONLY WAY)  
I DID A dumpwallet COMMAND THEN FORCE CLOSED BITCOIN-CORE. I CHECKED THE DUMP FILE AND IT SEEMED TO GENERATE ABOUT HALF A MILLION KEYS BUT THIS IS NOT RECOMMENDED. BUT TECHNICALLY YOU COULD 
GO THROUGH DUMP FILE AND GRAB KEYS FAR DOWN THE LINE RESET KEYPOOL BACK TO SOMETHING MANAGEABLE OR CREATE NEW WALLET ENTIRELY THEN JUST IMPORT THOSE KEYS YOU GRABBED FROM DUMP WITH THE COMMAND ----> importmulti
***********
*******
***